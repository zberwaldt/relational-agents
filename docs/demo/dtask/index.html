<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="Relational Agents Group"><style>:root{--main-text-color: hsla(0, 0%, 0%, .8);--inverse-text-color:  hsla(0, 0%, 100%, .8);--primary-font: 'Roboto', sans-serif}html{font-size:16px;font-family:var(--primary-font)}html,body{width:100%;height:100vh;padding:0;margin:0}h1,h2,h3,h4,h5,h6{margin:0}main{flex-grow:2;background-color:#f2f2f2}figure{margin:0 16px 0 0}a{display:inline-block}.container{box-sizing:border-box;height:inherit;margin:0 auto;max-width:1100px;min-width:80%;padding:0 16px;justify-content:space-between}.grid{display:grid}#content .container h1.page-title{margin-top:32px}.page-title{margin-bottom:32px}.text-center{text-align:center}.flex{display:flex}.f-row{flex-direction:row}.f-column{flex-direction:column}.f-jc-between{justify-content:space-between}.f-jc-start{justify-content:flex-start}.f-jc-center{justify-content:center}.f-jc-end{justify-content:flex-end}.f-a-center{align-items:center}.full-width{width:100%}.navbar{flex-shrink:0;height:64px;border-bottom:1px solid hsla(0,0%,0%,.1)}.navbar ul{list-style:none;padding:0}.navbar ul li{margin:0 16px}.navbar .container{flex-shrink:0}.navbar a{text-decoration:none;font-weight:500;text-transform:uppercase;color:var(--main-text-color);transform:scale(1);transition:transform .2s ease-in-out,color .2s ease-in-out}.navbar a:hover{color:blue;transform:scale(.95);transition:transform .2s ease-in-out,color .2s ease-in-out}.navbar .pages li{position:relative}.navbar .pages li:hover .sub-menu{display:flex;align-items:stretch}.sub-menu{display:none;position:absolute;z-index:1000;left:0}.pages li .sub-menu li{margin:0}.left{float:left!important}.right{float:right!important}.sub-menu li a{display:block;padding:16px 24px;font-size:.9em;text-align:center;background:#333;color:hsla(0,0%,100%,.95)}.sub-menu li a:hover{background:#595959;color:hsla(0,0%,100%,.8)}.active a{color:blue}.brand img{width:32px;height:32px;margin:8px 8px 8px 0}</style><link rel=stylesheet href=https://pro.fontawesome.com/releases/v5.4.1/css/all.css integrity=sha384-POYwD7xcktv3gUeZO5s/9nUbRJG/WOmV6jfEGikMJu77LGYO8Rfs2X7URG822aum crossorigin=anonymous><link rel=stylesheet href=https://zberwaldt.github.io/relational-agents/css/style.css disabled><title>Dtask &ndash; Relational Agents Group</title></head><body><body class="flex f-column f-jc-between"><nav class="navbar flex f-jc-center f-a-center full-width"><div class="container flex f-a-center"><a href=https://zberwaldt.github.io/relational-agents/ class="brand flex f-a-center"><img src=https://zberwaldt.github.io/relational-agents/rag-64.png alt="relational agents logo">
<span>Relational Agents Group</span></a><ul class="pages flex f-a-center"><li><a href=/relational-agents/people>people</a></li><li><a href=/relational-agents/project>projects</a><ul class="sub-menu flex f-column"><li><a href=/relational-agents/project>current</a></li><li><a href=/relational-agents/project/archive>past</a></li></ul></li><li><a href=/relational-agents/publication>publications</a></li><li><a href=/relational-agents/demo>demoes</a><ul class="sub-menu flex f-column"><li><a href=/relational-agents/demo/dtask>dtask</a></li><li><a href=/relational-agents/demo/hbco>hbco</a></li><li><a href=/relational-agents/demo/litebody>litebody</a></li></ul></li><li><a href=/relational-agents/press>press</a></li></ul></div></nav><main id=content><div class="container flex f-row"><article class=demo-article id=dtask><a class=back-link href=/relational-agents/demo/><i class="fas fa-chevron-left"></i>Go Back</a><h1 id=dtask-a-hierarchical-task-decomposition-based-dialogue-planner>DTask: A hierarchical task decomposition-based dialogue planner</h1><p>DTask is a dialogue planner designed to model and execute system-directed dialogue, with multiple-choice user input. Dialogue is specified declaratively, as a hierarchical task decomposition. It is designed to model and execute system-directed dialogue, where user input is performed via selection from a multiple choice menu of possible utterances, dynamically updated at each turn of the dialogue. DTask uses a <a href=http://www.ce.org/Standards/browseByCommittee_4467.asp rel="nofollow noreferrer" target=_blank>CEA-2018</a> recipe library to plan a task decomposition for each segment of a dialogue. DTask provides support for loading and saving data and metadata represented in <a href=http://www.w3.org/RDF/ rel="nofollow noreferrer" target=_blank>Resource Description Framework (RDF)</a> at runtime.</p><h2 id=prerequisites>Prerequisites</h2><p>Instructions for setting up the DTask system:</p><ul><li><p>Requires Java 1.5 or better. Java 1.6 is preferred.</p></li><li><p>lib/dtask.jar is a pre-compiled version of the dialogueengine.</p></li></ul><p>The following jar files must be in the same directory. Some are only required on Java 1.5 (but can be included on Java 1.6). All of these should be included with this distribution:</p><p>From <a href=http://www.oracle.com/ rel="nofollow noreferrer" target=_blank>Oracle</a> site, download the following files:</p><ul><li><p>jsr173_api.jar (required for Java 1.5)</p></li><li><p>sjsxp.jar (required for Java 1.5)</p></li></ul><p>From <a href=http://www.mozilla.org/rhino/download.html rel="nofollow noreferrer" target=_blank>Mozilla</a> site, download the following files:</p><ul><li><p>js.jar (required for Java 1.5)</p></li><li><p>js-engine5.jar (required for Java 1.5)</p></li></ul><p>From <a href=http://www.thaiopensource.com/relaxng/jing.html rel="nofollow noreferrer" target=_blank>Thai Open Source Software Center Ltd</a> site, download the source files to build the jar:
- jing.jar (required for all)</p><h2 id=running-dtask-in-console-mode>Running DTask in console mode</h2><p>DTask provides a simple console mode, which is useful for testing. Put the dependencies in the same directory as dtask.jar, then run it with: <code>java -jar lib/dtask.jar</code>
It responds to the following commands:</p><ul><li><p><strong>help:</strong> display descriptions and details on all commands</p></li><li><p><strong>eval:</strong> evaluate Javascript; can set variables</p></li><li><p><strong>load:</strong> load a new model file. takes a path or URL.</p></li><li><p><strong>models:</strong> show all loaded models.</p></li><li><p><strong>quit:</strong> shutdown and exit</p></li><li><p><strong>run:</strong> begin a new top-level task</p><p><em>use</em> &ldquo;run task; slot1=value1; slot2=value2&rdquo; <em>syntax to set the input slots</em></p></li><li><p><strong>say:</strong> respond to the current dialogue turn if called with no arguments then displays the current possible choices.</p></li><li><p><strong>source:</strong> read and execute commands from a file</p></li><li><p><strong>status:</strong> display the current plan tree</p></li></ul><h2 id=running-dtask-with-litebody>Running DTask with LiteBody</h2><p>Most of the time you&rsquo;ll want to deploy DTask with <a href=../litebody/>Litebody</a> in a servlet. This section assumes that you&rsquo;ve already read the Litebody <a href=litebody-setup.html><a href=../litebody/installation>installation guide</a>.</p><p>First, you&rsquo;ll want to add dtask.jar and all its dependencies to the WEB-INF/lib directory of your servlet. Next, add any DTask model files somewhere within your servlet. Conventionally, we use WEB-INF/models for this purpose, but anything should work.</p><p>Finally, you&rsquo;ll need to include some parameters in the web.xml file. The parameter &ldquo;webframe.dialogue-manager&rdquo; should be set to &ldquo;edu.neu.ccs.task.web.DTaskManager&rdquo;; this tells Litebody to use DTask as its dialogue manager. There are also a number of DTask-specific parameters to set:</p><table class=prop><tr><th>Property</th><th>Default</th><th>Description</th></tr><tr><td>dtask.models</td><td>REQUIRED</td><td>a whitespace-separated list of paths (within the servlet directories) to DTask model files</td></tr><tr><td>dtask.top-task</td><td>Top</td><td>the name of the top-level task for a conversations</td></tr><tr><td>dtask.top-input.SLOT-NAME</td><td>NONE</td><td>allows you to bind input slots of the top-level task.</td></tr><tr><td>dtask.persistence</td><td>NONE</td><td>fully-qualified name of an implementation of the Persistence interface; this is optional, but can be used to save a user model after conversations, and load it again later.</td></tr></table><h2 id=dtask-example>DTask Example</h2><p>The xml file below shows an example of a fragment of a DTask dialogue model. This example implements a task (&ldquo;RitualIntro&rdquo;) which is a short ritualized greeting to the user. There is one recipe provided which can achieve this task (&ldquo;DoRitualIntro&rdquo;), consisting of two subtasks (&ldquo;HowAreYou&rdquo; and &ldquo;RespondToIntro&rdquo;).</p><p>Tasks can have locally-scoped input and output parameters. The &ldquo;HowAreYou&rdquo; task has one output slot, which defines the semantics of the user&rsquo;s utterance which will be represented. In this case, the semantics is simply a boolean value representing whether the user asked a reciprocal question of the agent.</p><p>The &ldquo;RespondToIntro&rdquo; task has one input parameter, and constraints on the recipe are used to bind the output of the earlier task to this input. The example shows one dialogue turn which can be used to achieve this task in the case where the user requested a reciprocal response. There may be any number of other dialogue turns specified with different applicability conditions.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml>  <span style=color:#f92672>&lt;task</span> <span style=color:#a6e22e>id=</span><span style=color:#e6db74>&#34;RitualIntro&#34;</span><span style=color:#f92672>/&gt;</span>
  <span style=color:#f92672>&lt;subtasks</span> <span style=color:#a6e22e>id=</span><span style=color:#e6db74>&#34;DoRitualIntro&#34;</span> <span style=color:#a6e22e>goal=</span><span style=color:#e6db74>&#34;RitualIntro&#34;</span><span style=color:#f92672>&gt;</span>
  <span style=color:#f92672>&lt;step</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;ask&#34;</span> <span style=color:#a6e22e>task=</span><span style=color:#e6db74>&#34;HowAreYou&#34;</span><span style=color:#f92672>/&gt;</span>
  <span style=color:#f92672>&lt;step</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;respond&#34;</span> <span style=color:#a6e22e>task=</span><span style=color:#e6db74>&#34;RespondToIntro&#34;</span><span style=color:#f92672>/&gt;</span>
  <span style=color:#f92672>&lt;binding</span> <span style=color:#a6e22e>slot=</span><span style=color:#e6db74>&#34;$respond.reciprocal&#34;</span> <span style=color:#a6e22e>value=</span><span style=color:#e6db74>&#34;$ask.reciprocal&#34;</span><span style=color:#f92672>/&gt;</span>
  <span style=color:#f92672>&lt;/subtasks&gt;</span>
  <span style=color:#f92672>&lt;task</span> <span style=color:#a6e22e>id=</span><span style=color:#e6db74>&#34;HowAreYou&#34;</span><span style=color:#f92672>&gt;</span>
  <span style=color:#f92672>&lt;output</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;reciprocal&#34;</span> <span style=color:#a6e22e>type=</span><span style=color:#e6db74>&#34;boolean&#34;</span><span style=color:#f92672>/&gt;</span>
  <span style=color:#f92672>&lt;d:turn&gt;</span>
  <span style=color:#f92672>&lt;d:agent&gt;</span>Hi {USER.name}. How are you?<span style=color:#f92672>&lt;/d:agent&gt;</span>
  <span style=color:#f92672>&lt;d:user&gt;</span>
  <span style=color:#f92672>&lt;d:say&gt;</span>I&#39;m good. How are you?<span style=color:#f92672>&lt;/d:say&gt;</span>
  <span style=color:#f92672>&lt;d:result</span> <span style=color:#a6e22e>slot=</span><span style=color:#e6db74>&#34;reciprocal&#34;</span> <span style=color:#a6e22e>value=</span><span style=color:#e6db74>&#34;true&#34;</span><span style=color:#f92672>/&gt;</span>
  <span style=color:#f92672>&lt;/d:user&gt;</span>
  <span style=color:#f92672>&lt;d:user&gt;</span>
  <span style=color:#f92672>&lt;d:say&gt;</span>Good.<span style=color:#f92672>&lt;/d:say&gt;</span>
  <span style=color:#f92672>&lt;d:result</span> <span style=color:#a6e22e>slot=</span><span style=color:#e6db74>&#34;reciprocal&#34;</span> <span style=color:#a6e22e>value=</span><span style=color:#e6db74>&#34;false&#34;</span><span style=color:#f92672>/&gt;</span>
  <span style=color:#f92672>&lt;/d:user&gt;</span>
  <span style=color:#f92672>&lt;/d:turn&gt;</span>
  <span style=color:#f92672>&lt;/task&gt;</span>
  <span style=color:#f92672>&lt;task</span> <span style=color:#a6e22e>id=</span><span style=color:#e6db74>&#34;RespondToIntro&#34;</span><span style=color:#f92672>&gt;</span>
  <span style=color:#f92672>&lt;input</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;reciprocal&#34;</span> <span style=color:#a6e22e>type=</span><span style=color:#e6db74>&#34;boolean&#34;</span><span style=color:#f92672>/&gt;</span>
  <span style=color:#f92672>&lt;d:turn&gt;</span>
  <span style=color:#f92672>&lt;applicable&gt;</span>$this.reciprocal<span style=color:#f92672>&lt;/applicable&gt;</span>
  <span style=color:#f92672>&lt;d:agent&gt;</span>Great. Thanks for asking!<span style=color:#f92672>&lt;/d:agent&gt;</span></code></pre></div><h2 id=publications>Publications</h2><ul><li>Bickmore, T., Schulman, D., Sidner, C. (2011) A Reusable Framework for Health Counseling Dialogue Systems based on a Behavioral Medicine Ontology. Journal of Biomedical Informatics, 44, 183-197. <a href=http://relationalagents.com/publications/JBI2011-ontology.pdf>PDF</a></li><li>Bickmore, T., Schulman, D. and Shaw, G. (2009) DTask &amp; LiteBody: Open Source, Standards-based Tools for Building Web-deployed Embodied Conversational Agents Proceedings of Intelligent Virtual Agents, Amsterdam. <a href=publications/IVA09.litebody.pdf target=blank>PDF</a></li></ul><h2 id=licensing>Licensing</h2><p><a href=http://creativecommons.org/licenses/by-nc-sa/3.0/ rel="nofollow noreferrer" target=_blank><img src=http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png alt="Creative Commons License"></a><span property=dc:title xmlns:dc=http://purl.org/dc/elements/1.1/>DTask</span> by <a href=http://relationalagents.com property=cc:attributionName rel=cc:attributionurl xmlns:cc=http://creativecommons.org/ns#>Northeastern University Relational Agents Group</a> is licensed under a <a style=float:none;margin:0 href=http://creativecommons.org/licenses/by-nc-sa/3.0/ rel=license>Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Based on a work at <a href=http://dtask.sourceforge.net rel=dc:source xmlns:dc=http://purl.org/dc/elements/1.1/>dtask.sourceforge.net</a>.</p><p>We also request that any publications covering work based on DTask cite the Bickmore, et al, 2011 JBI paper (above).</p><h2 id=download>Download</h2><p><a href=http://dtask.sourceforge.net/ rel="nofollow noreferrer" target=_blank>http://dtask.sourceforge.net/</a></p></article><aside class="demoes aside-nav flex f-column"><h4>Open Source</h4><hr><ul><li><a href=/relational-agents/demo/litebody/>Litebody Open Source</a><ul><li><a href=/relational-agents/demo/litebody/installation/>Installation Guide</a></li><li><a href=/relational-agents/demo/litebody/protocol/>Protocol</a></li></ul></li><li><a class=active href=/relational-agents/demo/dtask/>Dtask Open Source</a></li><li><a href=/relational-agents/demo/hbco/>Hbco Open Source</a></li></ul></aside></div></main><footer class=flex id=footer><p class=text-center>Relational Agents Group &copy; 2018</p></footer></body></html></body></html>