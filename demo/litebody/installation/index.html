<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="Relational Agents Group is a research team at Northeastern University in Boston, MA."><style>:root{--main-text-color: hsla(0, 0%, 0%, .8);--inverse-text-color:  hsla(0, 0%, 100%, .8);--primary-font: 'Roboto', sans-serif}html{font-size:16px;font-family:var(--primary-font)}html,body{width:100%;height:100vh;padding:0;margin:0}h1,h2,h3,h4,h5,h6{margin:0}main{flex-grow:2;background-color:#f2f2f2}figure{margin:0 16px 0 0}a{display:inline-block}.container{box-sizing:border-box;height:inherit;margin:0 auto;max-width:1100px;min-width:80%;padding:0 16px;justify-content:space-between}.grid{display:grid}#content .container h1.page-title{margin-top:32px}.page-title{margin-bottom:32px}.text-center{text-align:center}.flex{display:flex}.f-row{flex-direction:row}.f-column{flex-direction:column}.f-jc-between{justify-content:space-between}.f-jc-start{justify-content:flex-start}.f-jc-center{justify-content:center}.f-jc-end{justify-content:flex-end}.f-a-center{align-items:center}.full-width{width:100%}.navbar{flex-shrink:0;height:64px;border-bottom:1px solid hsla(0,0%,0%,.1)}.navbar ul{list-style:none;padding:0}.navbar ul li{margin:0 16px}.navbar .container{flex-shrink:0}.navbar a{text-decoration:none;font-weight:500;text-transform:uppercase;color:var(--main-text-color);transform:scale(1);transition:transform .2s ease-in-out,color .2s ease-in-out}.navbar a:hover{color:blue;transform:scale(.95);transition:transform .2s ease-in-out,color .2s ease-in-out}.navbar .pages li{position:relative}.navbar .pages li:hover .sub-menu{display:flex;align-items:stretch}.sub-menu{display:none;position:absolute;z-index:1000;left:0}.pages li .sub-menu li{margin:0}.left{float:left!important}.right{float:right!important}.sub-menu li a{display:block;padding:16px 24px;font-size:.9em;text-align:center;background:#333;color:hsla(0,0%,100%,.95)}.sub-menu li a:hover{background:#595959;color:hsla(0,0%,100%,.8)}.active a{color:blue}.brand img{width:32px;height:32px;margin:8px 8px 8px 0}</style><link rel=stylesheet href=https://pro.fontawesome.com/releases/v5.4.1/css/all.css integrity=sha384-POYwD7xcktv3gUeZO5s/9nUbRJG/WOmV6jfEGikMJu77LGYO8Rfs2X7URG822aum crossorigin=anonymous><link rel=preload href=../../../css/style.css as=style><link rel=stylesheet href=../../../css/style.css><title>LiteBody: Installation Guide &ndash; Relational Agents Group</title></head><body><body class="flex f-column f-jc-between"><nav class="navbar flex f-jc-center f-a-center full-width"><div class="container flex f-a-center"><a href=../../../index.html class="brand flex f-a-center"><img src=../../../rag-64.png alt="relational agents logo">
<span>Relational Agents Group</span></a><ul class="pages flex f-a-center"><li><a href=../../../people/index.html>people</a></li><li><a href=../../../project/index.html>projects</a><ul class="sub-menu flex f-column"><li><a href=../../../project/index.html>current</a></li><li><a href=../../../project/archive/index.html>past</a></li></ul></li><li><a href=../../../publication/index.html>publications</a></li><li><a href=../../../demo/index.html>demos</a><ul class="sub-menu flex f-column"><li><a href=../../../demo/dtask/index.html>dtask</a></li><li><a href=../../../demo/hbco/index.html>hbco</a></li><li><a href=../../../demo/litebody/index.html>litebody</a></li></ul></li><li><a href=../../../press/index.html>press</a></li></ul></div></nav><main id=content><div class="container flex f-row"><article class=demo-article id="litebody: installation guide"><a class=back-link href=../../../demo/litebody/index.html><i class="fas fa-chevron-left"></i>Go Back</a><h1 id=litebody-installation-configuration-and-deployment-guide>LiteBody: Installation, Configuration and Deployment Guide</h1><p>The following document is a brief description of how to configure and deploy litebody along with its dialogue manager.</p><h4 id=servlet-deployment-overview>Servlet Deployment Overview</h4><p>The project is to be deployed as a Java servlet and are deployed on the server using a compliant &ldquo;servlet container&rdquo;. Further documentation would provide instructions specific to Apache Tomcat as a servlet container.</p><h4 id=block-diagram>Block diagram</h4><p>The above figure provides an overview on how the components interact with each other.</p><p><img src=2.png alt="LiteBody Setup Diagram"></p><h4 id=minimum-server-requirements>Minimum Server Requirements:</h4><ul><li>Windows XP or greater/Linux</li><li>1.5ghz Processor</li><li>2GB of RAM</li><li>1+GB of Hard Drive space.</li></ul><h4 id=setting-up-the-server>Setting up the server</h4><p>Further instructions on setting up the litebody assumes installation of JRE and <a href=http://tomcat.apache.org/ rel="nofollow noreferrer" target=_blank>Tomcat</a> on the server, and the Adobe Flash web-browser plugin on clients.</p><p>The LiteBody server has been configured to use the FreeTTS or <a href=http://www.loquendo.com rel="nofollow noreferrer" target=_blank>Loquendo</a> (via their proprietary API) speech synthesizers; the following walks through installation with FreeTTS.</p><p>Add the following files in the lib folder of the Litebody TTS project.</p><p>From <a href=http://freetts.sourceforge.net/ rel="nofollow noreferrer" target=_blank>FreeTTS</a> site, download the following files:</p><ul><li>cmu_time_awb.jar</li><li>cmu_us_kal.jar</li><li>cmudict04.jar</li><li>cumlex.jar</li><li>cmutimelex.jar</li><li>en_us.jar</li><li>freetts.jar</li></ul><p>If you are using the FreeTTS engine, you will need to download the following jars from <a href=http://www.tritonus.org/ rel="nofollow noreferrer" target=_blank>Tritonus</a> site:</p><ul><li>tritonus_mp3-0.3.6.jar</li><li>tritonus_share-0.3.6.jar</li></ul><p>If you are using the Loquendo TTS engine, you will need to download and compile the following dlls/so. The files to compile the dlls/so can be found at <a href=http://lame.sourceforge.net/ rel="nofollow noreferrer" target=_blank>here</a>, then build the following .so or .dll files for based on your server&rsquo;s operating system:<br></p><ul><li>lame_enc.dll (for windows)</li><li>lametritonus.dll (for windows)</li><li>liblametritonus.jnilib (for both)</li><li>liblametritonus.so (for linux)</li><li>libmp3lame.dylib (for linux)</li></ul><h4 id=deploy-a-webagent-server>Deploy a webAgent server</h4><ul><li>For the litebody project, build an executable JAR file by using the Ant tool (build.xml file). Once the build is successful, it would generate a “litebody.jar” file</li><li>In webapps folder of the tomcat directory, copy over the webAgent project</li><li>In the webAgent project folder, create a “WEB-INF” folder. Also create a “lib” folder (WEB-INF\lib) and copy the “litebody.jar” generated above in the lib folder.</li><li>Create a web.xml file with the needed configuration settings. More information on how to setup the web.xml file is given in the “web.xml overview” section below.</li><li>Modify the serverURL value in the webAgent.properties file to point to the correct URL. The location of the properties file is under the Config folder in webAgent project.</li><li>Start tomcat service and check if the tomcat home page shows up on the browser when requested for http://localhost:8080</li><li>Open the url, http://localhost:8080/&lt;project-name&gt;/agent to check to see if the deployment was successful.&lt;/project-name&gt;</li></ul><h4 id=deploy-the-litebody-client>Deploy the Litebody Client</h4><ul><li>To deploy the Litebody Client, download the LiteBodyClient project from svn and open webAgent.fla using Flash CS4 or above.</li><li>Once you have loaded up the fla file, publish the project, and place the resulting swf and html file inside the appropriate folder in your tomcat webapps folder.</li><li>Inside the webapps folder containing the swf and html file, create a new folder called Config, and create a webAgent.properties file with the following information in it:</li><li>(Without the quotes) &ldquo;serverURL=http://serverURL/agent&rdquo;, for additional options, please read the example webAgent.properties provided in the SVN.</li><li>Start the tomcat service, and check navigate to the html to start interacting with the system.<br></li></ul><p>Please note that a sample configuration of the project is provided in the repository under the litebody-test folder.</p><h4 id=overview-of-web-xml>Overview of web.xml</h4><p>All configuration for litebody is done in the web.xml file. This example shows the general layout of the file. Note that the servlet standard gives a lot more possible configuration; this is just what we&rsquo;re using at the moment. Most of the interesting configuration is in the &ldquo;init-param&rdquo; elements.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#75715e>&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
<span style=color:#f92672>&lt;web-app</span> <span style=color:#a6e22e>xmlns=</span><span style=color:#e6db74>&#34;http://java.sun.com/xml/ns/j2ee&#34;</span>
     <span style=color:#a6e22e>xmlns:xsi=</span><span style=color:#e6db74>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
     <span style=color:#a6e22e>xsi:schemaLocation=</span><span style=color:#e6db74>&#34;http://java.sun.com/xml/ns/javaee 
</span><span style=color:#e6db74>		http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&#34;</span>
     <span style=color:#a6e22e>version=</span><span style=color:#e6db74>&#34;2.5&#34;</span><span style=color:#f92672>&gt;</span>
  <span style=color:#f92672>&lt;display-name&gt;</span>Testing the new Litebody protocol<span style=color:#f92672>&lt;/display-name&gt;</span>
  
  <span style=color:#f92672>&lt;servlet&gt;</span>
    <span style=color:#f92672>&lt;servlet-name&gt;</span>Agent<span style=color:#f92672>&lt;/servlet-name&gt;</span>
    <span style=color:#f92672>&lt;servlet-class&gt;</span>webframe.WebFrameServlet<span style=color:#f92672>&lt;/servlet-class&gt;</span>
    <span style=color:#f92672>&lt;load-on-startup&gt;</span>1<span style=color:#f92672>&lt;/load-on-startup&gt;</span>
    <span style=color:#f92672>&lt;init-param&gt;</span>
      <span style=color:#f92672>&lt;param-name&gt;</span>webframe.dialogue-manager<span style=color:#f92672>&lt;/param-name&gt;</span>
      <span style=color:#f92672>&lt;param-value&gt;</span>webframe.DialogueTest<span style=color:#f92672>&lt;/param-value&gt;</span>
    <span style=color:#f92672>&lt;/init-param&gt;</span>
    <span style=color:#f92672>&lt;init-param&gt;</span>
      <span style=color:#f92672>&lt;param-name&gt;</span>webframe.validation<span style=color:#f92672>&lt;/param-name&gt;</span>
      <span style=color:#f92672>&lt;param-value&gt;</span>true<span style=color:#f92672>&lt;/param-value&gt;</span>
    <span style=color:#f92672>&lt;/init-param&gt;</span>
    <span style=color:#75715e>&lt;!-- Additional parameters go here --&gt;</span>
  <span style=color:#f92672>&lt;/servlet&gt;</span>

  <span style=color:#f92672>&lt;servlet-mapping&gt;</span>
    <span style=color:#f92672>&lt;servlet-name&gt;</span>Agent<span style=color:#f92672>&lt;/servlet-name&gt;</span>
    <span style=color:#f92672>&lt;url-pattern&gt;</span>/agent/*<span style=color:#f92672>&lt;/url-pattern&gt;</span>
  <span style=color:#f92672>&lt;/servlet-mapping&gt;</span>
  
  <span style=color:#f92672>&lt;filter&gt;</span>
    <span style=color:#f92672>&lt;filter-name&gt;</span>ForceCacheValidation<span style=color:#f92672>&lt;/filter-name&gt;</span>
    <span style=color:#f92672>&lt;filter-class&gt;</span>webframe.ForceCacheValidation<span style=color:#f92672>&lt;/filter-class&gt;</span>
  <span style=color:#f92672>&lt;/filter&gt;</span>
<span style=color:#f92672>&lt;/web-app&gt;</span></code></pre></div><h4 id=configuration-parameters>Configuration Parameters</h4><table><tbody><tr><th>Property</th><th>Default</th><th>Description</th></tr><tr><td>webframe.dialogue-manager</td><td>REQUIRED</td><td>fully-qualified class name of an implementation of the
DialogueManager interface</td></tr><tr><td>webframe.user-manager</td><td>NONE</td><td>fully-qualified class name of an implementation of the
UserManager interface; allows an app to customize
things like user authentication.</td></tr><tr><td>webframe.log-manager</td><td>NONE</td><td>fully-qualified class name of an implementation of the
LogManager interface; allows an app to customize logging conversation events.</td></tr><tr><td>webframe.session-timeout-minutes</td><td>10 minutes</td><td>A conversation is considered to be terminated if there
is no contact from a client within this time period</td></tr><tr><td>webframe.session-timeout-poll-minutes</td><td>value of session-timeout-minutes</td><td>the litebody polls at this interval to check if any idle conversations should be terminated</td></tr><tr><td>webframe.tts.server</td><td>localhost</td><td>hostname of TTS server</td></tr><tr><td>webframe.tts.port</td><td>7000</td><td>port# of TTS server</td></tr><tr><td>webframe.tts.voice</td><td>Susan</td><td>TTS voice to request from the TTS server</td></tr><tr><td>webframe.validate</td><td>FALSE</td><td>if true, outgoing messages are checked against the
XML schema; this is good for debugging</td></tr></tbody></table></article><aside class="demoes aside-nav flex f-column"><h4>Open Source</h4><hr><ul><li><a href=../../../demo/litebody/index.html>Litebody Open Source</a><ul><li><a class=active href=../../../demo/litebody/installation/index.html>Installation Guide</a></li><li><a href=../../../demo/litebody/protocol/index.html>Protocol</a></li></ul></li><li><a href=../../../demo/dtask/index.html>Dtask Open Source</a></li><li><a href=../../../demo/hbco/index.html>Hbco Open Source</a></li></ul></aside></div></main><footer class=flex id=footer><p class=text-center>Relational Agents Group &copy; 2018</p></footer></body></html></body></html>